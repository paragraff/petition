!function(t){function e(t,n){this.list=t,this.options=n=n||{};var i,s,o,r;for(i=0,r=["sort","includeScore","shouldSort"],s=r.length;s>i;i++)o=r[i],this.options[o]=o in n?n[o]:e.defaultOptions[o];for(i=0,r=["searchFn","sortFn","keys","getFn"],s=r.length;s>i;i++)o=r[i],this.options[o]=n[o]||e.defaultOptions[o]}var n=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,s,o,r,a,c,h,l=t.length,p=this.options.location,u=this.options.threshold,f=t.indexOf(this.pattern,p),d=this.patternLen+l,v=1,m=[];for(-1!=f&&(u=Math.min(this._bitapScore(0,f),u),f=t.lastIndexOf(this.pattern,p+this.patternLen),-1!=f&&(u=Math.min(this._bitapScore(0,f),u))),f=-1,e=0;e<this.patternLen;e++){for(i=0,s=d;s>i;)this._bitapScore(e,p+s)<=u?i=s:d=s,s=Math.floor((d-i)/2+i);for(d=s,o=Math.max(1,p-s+1),r=Math.min(p+s,l)+this.patternLen,a=Array(r+2),a[r+1]=(1<<e)-1,n=r;n>=o;n--)if(h=this.patternAlphabet[t.charAt(n-1)],a[n]=0===e?(a[n+1]<<1|1)&h:(a[n+1]<<1|1)&h|((c[n+1]|c[n])<<1|1)|c[n+1],a[n]&this.matchmask&&(v=this._bitapScore(e,n-1),u>=v)){if(u=v,f=n-1,m.push(f),!(f>p))break;o=Math.max(1,2*p-f)}if(this._bitapScore(e+1,p)>u)break;c=a}return{isMatch:f>=0,score:v}};var i=function(t,e,n){var o,r,a;if(e){a=e.indexOf("."),-1!==a?(o=e.slice(0,a),r=e.slice(a+1)):o=e;var c=t[o];if(c)if(r||"string"!=typeof c&&"number"!=typeof c)if(s.isArray(c))for(var h=0,l=c.length;l>h;h++)i(c[h],r,n);else r&&i(c,r,n);else n.push(c)}else n.push(t);return n},s={deepValue:function(t,e){return i(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};e.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:s.deepValue,keys:[]},e.prototype.set=function(t){return this.list=t,t},e.prototype.search=function(t){var e,n,i,o,r=new this.options.searchFn(t,this.options),a=this.list,c=a.length,h=this.options,l=this.options.keys,p=l.length,u=[],f={},d=[],v=function(t,e,n){if(void 0!==t&&null!==t)if("string"==typeof t)i=r.search(t),i.isMatch&&(o=f[n],o?o.score=Math.min(o.score,i.score):(f[n]={item:e,score:i.score},u.push(f[n])));else if(s.isArray(t))for(var a=0;a<t.length;a++)v(t[a],e,n)};if("string"==typeof a[0])for(var m=0;c>m;m++)v(a[m],m,m);else for(var m=0;c>m;m++)for(n=a[m],e=0;p>e;e++)v(h.getFn(n,l[e]),n,m);h.shouldSort&&u.sort(h.sortFn);for(var _=h.includeScore?function(t){return u[t]}:function(t){return u[t].item},y=h.id?function(t){u[t].item=h.getFn(u[t].item,h.id)[0]}:function(){},m=0,g=u.length;g>m;m++)y(m),d.push(_(m));return d},"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Fuse=e}(this),function(t,e){"use strict";function n(t){var e;""==t?r.css("display","table-row"):(e=l.search(t),r.css("display","none"),e.forEach(function(t){c[t-1].elem.appendTo(o).css("display","table-row")}))}function i(t){var n,i=[];return t.each(function(t){n=e(this),i.push({key:t+1,title:n.find(".list_elem_title a").text(),elem:n})}),i}var s,o=e("section div.reducer div.list:not(:only-child)"),r=o.children(".list_row"),a=e("section div.list_header_block div.list .list_elem_title"),c=i(r),h={id:"key",caseSensitive:!1,includeScore:!1,shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,keys:["title"]},l=new Fuse(c,h);e('<input class="txt_input vat" type="text" value="" placeholder="Фільтр електроних петицій по назві">').css({"vertical-align":"baseline",width:"400px",margin:"0 30px",height:"30px"}).appendTo(a).keyup(function(){clearTimeout(s),s=function(t){return setTimeout(function(){n(t)},400)}(e(this).val())})}(window,jQuery),function(t,e){"use strict";function n(){var t,n="list_elem_col list_elem_col_head list_elem_";return-1!=e(this).parent().attr("class").indexOf(n)&&(t=e(this).parent().attr("class").substr(n.length),i(t)),!1}function i(t){t==l?p="asc"==p?"desc":"asc":(l=t,p="asc"),a(l,p)}function s(t,e){var n,i=r(t),s=r(e);return n=i==s?0:i>s?1:-1}function o(t,e){return s(e,t)}function r(t){var n=0;return n="title"!=l?parseInt(e(t).find(".list_elem_"+l).find("span").text(),10):e(t).find(".list_elem_"+l).find("a").text()}function a(t,e){l=t,"asc"==e?c.children(".list_row").sort(s).appendTo(c):"desc"==e&&c.children(".list_row").sort(o).appendTo(c)}var c=e("section div.reducer div.list:not(:only-child)"),h=e("section div.list_header_block div.list"),l="none",p="asc";h.find(".list_elem_col_head").wrapInner('<a href="#"></a>').find("a").click(n)}(window,jQuery);